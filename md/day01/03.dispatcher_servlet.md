# 📌 Spring MVC 동작 흐름
![dispatcher servlet](/md/day01/img/dispatcher_servlet2.jpg)
- ① DispatcherServlet으로 클라이언트의 웹 요청(HttpServletRequest)가 들어온다.
- ② 웹 요청을 LocaleResolver, ThemeResolver, MultipartResolver 인터페이스 구현체에서 분석한다.
- ③ 찾은 Handler를 실행할 수 있는 HandlerAdapter를 탐색한다.
- ④, ⑤ 찾은 HandlerAdapter를 사용해서 Handler의 메소드를 실행한다. 이때, Handler의 반환값은 Model과 View이다.
- ⑥ View 이름을 ViewResolver에게 전달하고, ViewResolver는 해당하는 View 객체를 반환한다.
- ⑦ DispatcherServlet은 View에게 Model을 전달하고 화면 표시를 요청한다. 이때, Model이 null이면 View를 그대로 사용한다. 반면, 값이 있으면 View에 Model 데이터를 렌더링한다.
- ⑧ 최종적으로 DispatcherServlet은 View 결과(HttpServletResponse)를 클라이언트에게 반환한다.
- [출처](https://tecoble.techcourse.co.kr/post/2021-06-25-dispatcherservlet-part-1/)

# 📌 프레임워크 흐름
![dispatcher servlet](/md/day01/img/dispatcher_servlet.jpg)
1. Handler 조회 : 핸들러 매핑을 통해 요청 URL에 매핑된 핸들러(컨트롤러)를 조회한다.
1. Handler Adapter 조회 : 핸들러를 실행할 수 있는 핸들러 어댑터를 조회한다.
1. viewResolver 호출 : viewResolver를 찾고 실행한다.
1. view를 반환 : viewResolver는 뷰의 논리이름을 물리이름으로 바꾸고, 렌더링 역할을 담당하는 뷰 객체를 반환한다.
    - 뷰를 반환하는 방식은 기본적으로 *forward* 방식이다.

## 🪶 Dispatcher Servlet
- 스프링 MVC도 Front Controller 패턴으로 구현되어 있다.
- 스프링 MVC의 Front Controller가 바로 Dispather Servlet이다.
    > Dispather Servlet이 스프링 MVC의 핵심이다.
- Dispatcher Servlet도 부모 클래스에서 HTTPServlet을 상속 받아서 사용하고, Servlet으로 동작한다.
- DispatcherServlet - FrameworkServlet - HTTPServletBean - HTTPServlet

## 🪶 Model

### Model
- Controller에서 데이터를 Model에 담는다. View는 Model에 담겨있는 데이터만 골라서 화면에 바인딩 해준다.
- Model 객체는 컨트롤러에서 데이터를 생성해 이를 JSP, HTML으로 즉 view단에 전달하는 역할을 한다.
- HashMap 형태를 갖고 있어 Key, Value로 저장한다.
    > request.setAttribute()과 비슷한 역할을 한다.

### ModelAndView
- Model에서 View영역이 조금 더 확장되었다.
- Model과 View를 동시에 설정이 가능한 컨트롤러는 Model과 View가 모두 리턴이 가능하다.

### Model과 ModelAndView의 차이
- Model : 데이터만 저장한다.
- ModelAndView : 데이터와 이동하고자 하는 viewPage를 같이 저장한다.